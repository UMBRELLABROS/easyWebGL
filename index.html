<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/styles.css">
    <script src='js/functions.js'></script>
    <script src='js/math.js'></script>
    <script src='js/world.js'></script>
    <script src='js/ubengine.js'></script>
    <script src='js/formcatalog.js'></script>
    <script src='js/shadercatalog.js'></script>
    <title>easywebGL v1.0 </title>
  </head>
  <body>
      <b>Ziel:</b> 3D drehender W端rfel
      <div id='canvas'></div>
      <input type='range' id='xpos' min="-100" max="100" value="0">
      <input type='range' id='ypos' min="-100" max="100" value="0">
      

<script>


// Eine Welt erschaffen
var wrld1 = new World();

// Direktes Licht (orientiert)
var light1 = new Child({type:'directLight',direction:[-0.707,0,0.707]});

// Ein W端rfel erzeugen 
var obj1 = new Child({type:'cube',position:{x:0,y:0,z:0},color:[0,1,0,1] }); // r,g,b,a

// Dreieck(e) zur Welt hinzuf端gen
wrld1.addChildren([obj1]);

// Lichter
wrld1.addLights([light1]);

// Engine erzeugen (Parameter ist die id des DIVs)
var eng = new UBEngine('canvas');

// Alle Welten hinzuf端gen
eng.addWorlds([wrld1]);

// loslegen 
eng.start();

    function handleChangePos(event) {
      var value = parseInt(event.target.value);
      moveObject(obj1,value)                
    }

    function handleChangeLight(event) {
      var value = parseInt(event.target.value);
      moveLight(light1,value)                
    }

    $('xpos').addEventListener('input', handleChangePos);
    $('ypos').addEventListener('input', handleChangeLight);

    function moveObject(obj,x){
      var position = [6*x,100*Math.sin(x/100)*Math.sin(x/100),0]; // Absolute Position aus dem Regler   
      obj.data.pos=position;  
    }

    function moveLight(obj,y){  
      obj.data.direction=[-0.707,-y/100,0.707];  
    }



</script>

  </body>
</html>